

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>envtoolkit.ts &mdash; envtoolkit 1.0.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="envtoolkit 1.0.0 documentation" href="../index.html"/>
        <link rel="up" title="Module reference manual" href="../refman.html"/>
        <link rel="next" title="envtoolkit.colors" href="envtoolkit.colors.html"/>
        <link rel="prev" title="envtoolkit.map" href="envtoolkit.map.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> envtoolkit
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Getting the <em>envtoolkit</em> library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../map.html">Maps module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../colors.html">Colors module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../timeseries.html">Timeseries module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spectral.html">Spectral module</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../refman.html">Module reference manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="envtoolkit.map.html">envtoolkit.map</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">envtoolkit.ts</a></li>
<li class="toctree-l2"><a class="reference internal" href="envtoolkit.colors.html">envtoolkit.colors</a></li>
<li class="toctree-l2"><a class="reference internal" href="envtoolkit.nc.html">envtoolkit.nc</a></li>
<li class="toctree-l2"><a class="reference internal" href="envtoolkit.spectral.html">envtoolkit.spectral</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">envtoolkit</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../refman.html">Module reference manual</a> &raquo;</li>
        
      <li>envtoolkit.ts</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/generated/envtoolkit.ts.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-envtoolkit.ts">
<span id="envtoolkit-ts"></span><h1>envtoolkit.ts<a class="headerlink" href="#module-envtoolkit.ts" title="Permalink to this headline">¶</a></h1>
<p>Functions/classes relative to time-series</p>
<p class="rubric">Functions</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#envtoolkit.ts.compute_daily_anom" title="envtoolkit.ts.compute_daily_anom"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_daily_anom</span></code></a>(data,&nbsp;date,&nbsp;clim)</td>
<td>Computes daily anomalies relative to a daily climatology.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#envtoolkit.ts.compute_daily_clim" title="envtoolkit.ts.compute_daily_clim"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_daily_clim</span></code></a>(data,&nbsp;date[,&nbsp;smooth,&nbsp;nharm])</td>
<td>Computes a daily seasonal cycle from a daily dataset.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#envtoolkit.ts.compute_monthly_anom" title="envtoolkit.ts.compute_monthly_anom"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_monthly_anom</span></code></a>(data,&nbsp;yyyymm,&nbsp;clim)</td>
<td>Computes anomalies relative to a monthly climatology.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#envtoolkit.ts.compute_monthly_clim" title="envtoolkit.ts.compute_monthly_clim"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_monthly_clim</span></code></a>(data,&nbsp;yyyymm)</td>
<td>Compute a monthly seasonal cycle from a monthly dataset.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#envtoolkit.ts.corr_ND" title="envtoolkit.ts.corr_ND"><code class="xref py py-obj docutils literal notranslate"><span class="pre">corr_ND</span></code></a>(xdata,&nbsp;ydata[,&nbsp;use_covariance])</td>
<td>Computes the correlation/covariance between the xdata and ydata arrays at 0-lag.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#envtoolkit.ts.day_of_year" title="envtoolkit.ts.day_of_year"><code class="xref py py-obj docutils literal notranslate"><span class="pre">day_of_year</span></code></a>(yymmdd)</td>
<td>Returns the day of year of</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#envtoolkit.ts.doy_to_date" title="envtoolkit.ts.doy_to_date"><code class="xref py py-obj docutils literal notranslate"><span class="pre">doy_to_date</span></code></a>(year,&nbsp;doy)</td>
<td>Converts from day of year into date</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#envtoolkit.ts.make_monthly_means" title="envtoolkit.ts.make_monthly_means"><code class="xref py py-obj docutils literal notranslate"><span class="pre">make_monthly_means</span></code></a>(data,&nbsp;yymmdd)</td>
<td>Computes monthy means from daily values</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#envtoolkit.ts.make_yymm" title="envtoolkit.ts.make_yymm"><code class="xref py py-obj docutils literal notranslate"><span class="pre">make_yymm</span></code></a>(date)</td>
<td>Converts a list/array of date objects into YYYYMM integers.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#envtoolkit.ts.make_yymmdd" title="envtoolkit.ts.make_yymmdd"><code class="xref py py-obj docutils literal notranslate"><span class="pre">make_yymmdd</span></code></a>(date)</td>
<td>Converts a list/array of dates into YYYYMMDD integers.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#envtoolkit.ts.remove_mean" title="envtoolkit.ts.remove_mean"><code class="xref py py-obj docutils literal notranslate"><span class="pre">remove_mean</span></code></a>(xdata)</td>
<td>Remove the mean from the dataset.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#envtoolkit.ts.smooth_data_fft" title="envtoolkit.ts.smooth_data_fft"><code class="xref py py-obj docutils literal notranslate"><span class="pre">smooth_data_fft</span></code></a>(data,&nbsp;nharm)</td>
<td>Smooth an input data array by using a FFT filter.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#envtoolkit.ts.standardize" title="envtoolkit.ts.standardize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">standardize</span></code></a>(xdata[,&nbsp;ddof])</td>
<td>Standardizes the xdata array</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#envtoolkit.ts.xcorr_1d" title="envtoolkit.ts.xcorr_1d"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xcorr_1d</span></code></a>(xdata,&nbsp;ydata[,&nbsp;maxlag,&nbsp;…])</td>
<td>Computes the cross-correlation/cross-covariance two one-dimensional arrays.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#envtoolkit.ts.xcorr_ND" title="envtoolkit.ts.xcorr_ND"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xcorr_ND</span></code></a>(xdata,&nbsp;ydata[,&nbsp;maxlag,&nbsp;use_covariance])</td>
<td>Computes the cross-correlation/cross-covariance between the xdata and ydata arrays.</td>
</tr>
</tbody>
</table>
<p class="rubric">Classes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#envtoolkit.ts.Lanczos" title="envtoolkit.ts.Lanczos"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Lanczos</span></code></a>(filt_type,&nbsp;nwts,&nbsp;pca[,&nbsp;pcb,&nbsp;delta_t])</td>
<td>Class for Lanczos filtering.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="envtoolkit.ts.Lanczos">
<em class="property">class </em><code class="descclassname">envtoolkit.ts.</code><code class="descname">Lanczos</code><span class="sig-paren">(</span><em>filt_type</em>, <em>nwts</em>, <em>pca</em>, <em>pcb=None</em>, <em>delta_t=1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/envtoolkit/ts.html#Lanczos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#envtoolkit.ts.Lanczos" title="Permalink to this definition">¶</a></dt>
<dd><p>Class for Lanczos filtering. Inspired from 
NCL’s <a class="reference external" href="http://www.ncl.ucar.edu/Document/Functions/Built-in/filwgts_lanczos.shtml">filwgts_lanczos</a> and <a class="reference external" href="http://www.ncl.ucar.edu/Document/Functions/Built-in/wgt_runave.shtml">wgt_runave</a> functions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filt_type</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The type of filter (“lp”=Low Pass, “hp”=High Pass,
“bp”=Band Pass</li>
<li><strong>nwts</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Number of weights (must be an odd number)</li>
<li><strong>pca</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) – First cut-off period</li>
<li><strong>pcb</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) – Second cut-off period (only for band-pass filters)</li>
<li><strong>delta_t</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) – Time-step</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="envtoolkit.ts.Lanczos.wgt_runave">
<code class="descname">wgt_runave</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/envtoolkit/ts.html#Lanczos.wgt_runave"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#envtoolkit.ts.Lanczos.wgt_runave" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the running mean of a ND input array using the filter weights.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>numpy.array</em>) – Array to filter 
out (time must be the first dimension)</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="envtoolkit.ts.compute_daily_anom">
<code class="descclassname">envtoolkit.ts.</code><code class="descname">compute_daily_anom</code><span class="sig-paren">(</span><em>data</em>, <em>date</em>, <em>clim</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/envtoolkit/ts.html#compute_daily_anom"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#envtoolkit.ts.compute_daily_anom" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes daily anomalies relative to a daily climatology. Inspired from
NCL’s
<a class="reference external" href="https://www.ncl.ucar.edu/Document/Functions/Contributed/calcMonAnomTLL.shtml">calcDayAnomTLL</a> function</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>numpy.array</em>) – data from which to extract daily 
anom (time must be the first dimension)</li>
<li><strong>date</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – the date vector (format YYYYMMDD, 
with YYYY=year, MM=month, DD=day).</li>
<li><strong>clim</strong> (<em>numpy.array</em>) – the daily climatology, computed with the 
<code class="xref py py-func docutils literal notranslate"><span class="pre">envtoolkit.ts.compute_clim()</span></code> function</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a numpy array that contains the daily anomalies. 
Same dimensions as <cite>data</cite></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="envtoolkit.ts.compute_daily_clim">
<code class="descclassname">envtoolkit.ts.</code><code class="descname">compute_daily_clim</code><span class="sig-paren">(</span><em>data</em>, <em>date</em>, <em>smooth=True</em>, <em>nharm=2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/envtoolkit/ts.html#compute_daily_clim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#envtoolkit.ts.compute_daily_clim" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes a daily seasonal cycle from a daily dataset. 
The user has the possibility to smooth the seasonal cycle, 
for instance by keeping the first two harmonics (annual and
semi annual cycles). 
This script is largely inspired from NCL’s
<a class="reference external" href="https://www.ncl.ucar.edu/Document/Functions/Contributed/calcMonAnomTLL.shtml">calcDayAnomTLL</a> and
<a class="reference external" href="https://www.ncl.ucar.edu/Document/Functions/Contributed/smthClmDayTLL.shtml">smthClmDayTLL</a> functions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><em>numpy.ndarray</em></a>) – dataset whose seasonal 
cycle to extract (time must be the first dimension)</li>
<li><strong>date</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – the date vector (format YYYYMMDD, 
with YYYY=year, MM=month, DD=day). Obtained by using
the <a class="reference internal" href="#envtoolkit.ts.make_yymmdd" title="envtoolkit.ts.make_yymmdd"><code class="xref py py-func docutils literal notranslate"><span class="pre">envtoolkit.ts.make_yymmdd()</span></code></a> function.</li>
<li><strong>smooth</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – defines whether the seasonal cycle should 
be smoothed by using Fast Fourier Transform</li>
<li><strong>nharm</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – number of harmonics to retain if <cite>smooth</cite> is True. Use 
2 to keep annual and semi-annual harmonics</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a numpy array that contains the daily seasonal cycle. 
Same dimensions as <cite>data</cite>, except for 
the first dimension which is 366.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="envtoolkit.ts.compute_monthly_anom">
<code class="descclassname">envtoolkit.ts.</code><code class="descname">compute_monthly_anom</code><span class="sig-paren">(</span><em>data</em>, <em>yyyymm</em>, <em>clim</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/envtoolkit/ts.html#compute_monthly_anom"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#envtoolkit.ts.compute_monthly_anom" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes anomalies relative to a monthly climatology.
This script is largely inspired from NCL’s
<a class="reference external" href="https://www.ncl.ucar.edu/Document/Functions/Contributed/calcMonAnomTLL.shtml">calcMonAnomTLL</a> function</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>numpy.array</em>) – data from which to 
extract monthly anom (data must be first dimension).</li>
<li><strong>date</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – the date vector (format YYYYMM, 
with YYYY=year, MM=month)</li>
<li><strong>dataclim</strong> (<em>numpy.array</em>) – the montly climatology, computed with the 
<code class="xref py py-func docutils literal notranslate"><span class="pre">envtoolkit.ts.compute_clim()</span></code> function.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a numpy array that contains the monthly anomalies. 
Same dimensions as <cite>data</cite></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="envtoolkit.ts.compute_monthly_clim">
<code class="descclassname">envtoolkit.ts.</code><code class="descname">compute_monthly_clim</code><span class="sig-paren">(</span><em>data</em>, <em>yyyymm</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/envtoolkit/ts.html#compute_monthly_clim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#envtoolkit.ts.compute_monthly_clim" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute a monthly seasonal cycle from a monthly dataset.</p>
<p>This script is largely inspired from the 
<a class="reference external" href="https://www.ncl.ucar.edu/Document/Functions/Contributed/clmMonTLL.shtml">NCL clmMonTLL</a> function</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><em>numpy.ndarray</em></a>) – dataset whose seasonal 
cycle to extract (time must be the first dimension)</li>
<li><strong>date</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – the date vector (format YYYYMM, 
with YYYY=year, MM=month). For instance obtained with the 
<a class="reference internal" href="#envtoolkit.ts.make_yymm" title="envtoolkit.ts.make_yymm"><code class="xref py py-func docutils literal notranslate"><span class="pre">envtoolkit.ts.make_yymm()</span></code></a> function.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a numpy array that contains the monthly seasonal cycle. 
Same dimensions as <cite>data</cite>, except for 
the first dimension which is 12</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="envtoolkit.ts.corr_ND">
<code class="descclassname">envtoolkit.ts.</code><code class="descname">corr_ND</code><span class="sig-paren">(</span><em>xdata</em>, <em>ydata</em>, <em>use_covariance=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/envtoolkit/ts.html#corr_ND"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#envtoolkit.ts.corr_ND" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the correlation/covariance between the xdata and ydata
arrays at 0-lag. Calculation is performed on first dimension 
(usually time). Loop is optimized by using special loops.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>numpy.array</strong> (<em>ydata</em>) – x-array (time must be the first dim.)</li>
<li><strong>numpy.array</strong> – y-array (time must be the first dim.)</li>
<li><strong>use_covariance</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – True if covariance should be computed instead of</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>correlation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A tuple with the cross-correlation or cross-covariance array, and the lag array.</td>
</tr>
</tbody>
</table>
<p>Cross-correlation has dimensions (xdata.shape[1:], ydata.shape[1:]).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">tuple</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="envtoolkit.ts.day_of_year">
<code class="descclassname">envtoolkit.ts.</code><code class="descname">day_of_year</code><span class="sig-paren">(</span><em>yymmdd</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/envtoolkit/ts.html#day_of_year"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#envtoolkit.ts.day_of_year" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the day of year of</p>
<p>a date vector in format YYYYMMDD</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>date</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Input date (format YYYYMMDD, 
with YYYY=year, MM=month, DD=day)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a numpy.array containing the day 
of year (1st of January=1, etc)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)">int</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="envtoolkit.ts.doy_to_date">
<code class="descclassname">envtoolkit.ts.</code><code class="descname">doy_to_date</code><span class="sig-paren">(</span><em>year</em>, <em>doy</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/envtoolkit/ts.html#doy_to_date"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#envtoolkit.ts.doy_to_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts from day of year into date</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>year</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Year</li>
<li><strong>doy</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Day of year</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="envtoolkit.ts.make_monthly_means">
<code class="descclassname">envtoolkit.ts.</code><code class="descname">make_monthly_means</code><span class="sig-paren">(</span><em>data</em>, <em>yymmdd</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/envtoolkit/ts.html#make_monthly_means"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#envtoolkit.ts.make_monthly_means" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes monthy means from daily values</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>yymmdd</strong> (<em>numpy.array</em>) – Dates in format YYYYMMDD</li>
<li><strong>data</strong> (<em>numpy.array</em>) – Dataset (time must be first dimension)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a tuple, containing the monthly output
dates (format YYYYMM), and the monthly data output.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="envtoolkit.ts.make_yymm">
<code class="descclassname">envtoolkit.ts.</code><code class="descname">make_yymm</code><span class="sig-paren">(</span><em>date</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/envtoolkit/ts.html#make_yymm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#envtoolkit.ts.make_yymm" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a list/array of date objects into YYYYMM integers.</p>
<div class="line-block">
<div class="line">YYYY = year</div>
<div class="line">MM = month</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>date</strong> (<em>list</em>) – A list/array of <code class="xref py py-mod docutils literal notranslate"><span class="pre">datetime.datetime</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A numpy array containing the dates in format YYYYMM</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">numpy.array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="envtoolkit.ts.make_yymmdd">
<code class="descclassname">envtoolkit.ts.</code><code class="descname">make_yymmdd</code><span class="sig-paren">(</span><em>date</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/envtoolkit/ts.html#make_yymmdd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#envtoolkit.ts.make_yymmdd" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a list/array of dates into YYYYMMDD integers.</p>
<div class="line-block">
<div class="line">YYYY=year</div>
<div class="line">MM=month</div>
<div class="line">DD=day</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>date</strong> (<em>list</em>) – A list/array of <a class="reference external" href="https://docs.python.org/2/library/datetime.html#datetime.datetime" title="(in Python v2.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a> objects</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A numpy array containg the dates in format YYYYMMDD</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">numpy.array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="envtoolkit.ts.remove_mean">
<code class="descclassname">envtoolkit.ts.</code><code class="descname">remove_mean</code><span class="sig-paren">(</span><em>xdata</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/envtoolkit/ts.html#remove_mean"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#envtoolkit.ts.remove_mean" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the mean from the dataset.</p>
<div class="math notranslate nohighlight">
\[output = \frac{x-\overline{x}}\]</div>
<p>Made on the first dimension (usually time).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>xdata</strong> (<em>numpy.array</em>) – Input data</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A numpy array with the anomalies</td>
</tr>
</tbody>
</table>
<p>of the input array</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">numpy.array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="envtoolkit.ts.smooth_data_fft">
<code class="descclassname">envtoolkit.ts.</code><code class="descname">smooth_data_fft</code><span class="sig-paren">(</span><em>data</em>, <em>nharm</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/envtoolkit/ts.html#smooth_data_fft"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#envtoolkit.ts.smooth_data_fft" title="Permalink to this definition">¶</a></dt>
<dd><p>Smooth an input data array by using a FFT filter.</p>
<p>Inspired from NCL’s 
<cite>smthClmDayTLL&lt;https://www.ncl.ucar.edu/Document/Functions/Contributed/smthClmDayTLL.shtml&gt;</cite> _ function</p>
<p>The FFT coefficients are extracted, and the 
signal is reconstructed by using only the 
first <cite>nharm</cite> harmonics. Is used in the 
<a class="reference internal" href="#envtoolkit.ts.compute_daily_clim" title="envtoolkit.ts.compute_daily_clim"><code class="xref py py-mod docutils literal notranslate"><span class="pre">envtoolkit.ts.compute_daily_clim</span></code></a> function to 
smooth a daily seasonal cycle.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.15)"><em>numpy.ndarray</em></a>) – dataset whose seasonal 
cycle to extract (time must be the first dimension)</li>
<li><strong>nharm</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – number of harmonics to retain</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="envtoolkit.ts.standardize">
<code class="descclassname">envtoolkit.ts.</code><code class="descname">standardize</code><span class="sig-paren">(</span><em>xdata</em>, <em>ddof=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/envtoolkit/ts.html#standardize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#envtoolkit.ts.standardize" title="Permalink to this definition">¶</a></dt>
<dd><p>Standardizes the xdata array</p>
<div class="math notranslate nohighlight">
\[output = \frac{x-\overline{x}}{\sigma_x}\]</div>
<p>Made on the first dimension (usually time).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>xdata</strong> (<em>numpy.array</em>) – Input data</li>
<li><strong>int</strong> (<em>ddof</em>) – Number of degrees of freedom to remove</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>for the calculation of <span class="math notranslate nohighlight">\(\sigma\)</span> (see the 
<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.std.html#numpy.std" title="(in NumPy v1.15)"><code class="xref py py-func docutils literal notranslate"><span class="pre">numpy.std()</span></code></a> documentation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A numpy array with the standardized values</td>
</tr>
</tbody>
</table>
<p>of the input array</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">numpy.array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="envtoolkit.ts.xcorr_1d">
<code class="descclassname">envtoolkit.ts.</code><code class="descname">xcorr_1d</code><span class="sig-paren">(</span><em>xdata</em>, <em>ydata</em>, <em>maxlag=None</em>, <em>use_covariance=False</em>, <em>ddof=1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/envtoolkit/ts.html#xcorr_1d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#envtoolkit.ts.xcorr_1d" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the cross-correlation/cross-covariance
two one-dimensional arrays. 
xdata leads at positive lags. Inspired from the 
<code class="xref py py-func docutils literal notranslate"><span class="pre">pyplot.xcorr()</span></code> function</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>numpy.array</strong> (<em>ydata</em>) – x-array (leads at positive lags)</li>
<li><strong>numpy.array</strong> – y-array (leads at negative lags)</li>
<li><strong>maxlag</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Number of maximum lag to return. If None,</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>maxlag=len(xdata)-1
:param bool use_covariance: Whether covariance (True)
or correlation (False) should be returned
:param int ddof: Number of degrees of freedom to remove if covariance
is computed. If 1, then covariance is divided by (N-1).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A tuple with the lags and the cross-correlation array</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">tuple</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="envtoolkit.ts.xcorr_ND">
<code class="descclassname">envtoolkit.ts.</code><code class="descname">xcorr_ND</code><span class="sig-paren">(</span><em>xdata</em>, <em>ydata</em>, <em>maxlag=None</em>, <em>use_covariance=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/envtoolkit/ts.html#xcorr_ND"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#envtoolkit.ts.xcorr_ND" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the cross-correlation/cross-covariance between the xdata and ydata
arrays. Calculation is performed on first dimension 
(usually time). xdata leads for positive lags.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>numpy.array</strong> (<em>ydata</em>) – x-array (time must be the first dim.)</li>
<li><strong>numpy.array</strong> – y-array (time must be the first dim.)</li>
<li><strong>use_covariance</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – True if covariance should be computed instead of</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>correlation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>maxglag</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – number of lag to consider. If None, maxlag=ntime</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A tuple with the cross-correlation or cross-covariance array, and the lag array.</td>
</tr>
</tbody>
</table>
<p>Cross-correlation has dimensions (xdata.shape[1:], ydata.shape[1:], 2*maxlag+1).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">tuple</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="envtoolkit.colors.html" class="btn btn-neutral float-right" title="envtoolkit.colors" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="envtoolkit.map.html" class="btn btn-neutral" title="envtoolkit.map" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Nicolas Barrier.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>
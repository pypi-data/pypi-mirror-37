<div id="messagesviewlet"
     tal:define="messages view/getAllMessages"
     tal:condition= "messages"
     i18n:domain="collective.messagesviewlet">

  <script tal:attributes="src string:${view/portal_url}/++resource++collective.messagesviewlet/js.cookie-2.0.3.min.js"></script>
  <script tal:attributes="src string:${view/portal_url}/++resource++collective.messagesviewlet/hidemessageviewlet.js"></script>
    <tal:message repeat="message messages">
        <dl tal:attributes="class python:'messagesviewlet-' + message.msg_type;
                        id message/hidden_uid">
            <dt i18n:translate="" tal:content="python: message.msg_type"></dt>
            <dd>
                <tal tal:replace="structure python: message.text.output"></tal>
            </dd>
            <span class="close-button" i18n:attributes='title close_title'>
              <img tal:condition="message/can_hide"
           tal:attributes="src string:${view/portal_url}/pb_close.png"
           i18n:attributes='alt close_alt;
                    title close_title'
            />
            </span>
        </dl>
    </tal:message>
</div>

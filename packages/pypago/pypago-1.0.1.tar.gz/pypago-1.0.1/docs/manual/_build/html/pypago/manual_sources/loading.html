
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Loading model data outputs &#8212; PAGO 1.0.0 documentation</title>
    <link rel="stylesheet" href="../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../../_static/pago.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Plotting" href="plotting.html" />
    <link rel="prev" title="Definition of domains" href="closedom.html" />

  </head><body>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="plotting.html" title="Plotting"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="closedom.html" title="Definition of domains"
             accesskey="P">previous</a> |</li>
   <li><a href="../../index.html">Home</a>|&nbsp;</li>
   <li><a href="../../models.html">Models</a>|&nbsp;</li>
   <li><a href="../../grid.html">Grid</a>|&nbsp;</li>
   <li><a href="../../sections.html">Sections</a>|&nbsp;</li>
   <li><a href="../../areas.html">Areas</a>|&nbsp; </li>
   <li><a href="../../output.html">Output</a>|&nbsp;</li>
   <li><a href="../../mapago.html">MAPAGO</a>|&nbsp;</li>
   <li><a href="../../pypago.html">PyPAGO</a>|&nbsp;</li>
   <li><a href="../../contact.html">Contact</a>|&nbsp;</li>
   <li><a href="../../howtocite.html">How to cite</a>|&nbsp;</li>
   <li><a href="../../desdevelopers.html">Developers</a>|&nbsp;</li>
   <li><a href="../../faq.html">FAQ</a>|&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="../../pypago.html" >PyPAGO documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../pypago_manual.html" accesskey="U">PyPAGO user guide</a> &#187;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/pago_background.jpg" alt="Logo"/>
            </a></p>
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Loading model data outputs</a><ul>
<li><a class="reference internal" href="#loading-section-data">Loading section data</a><ul>
<li><a class="reference internal" href="#loading-sections-from-t-points">Loading sections from T points</a></li>
<li><a class="reference internal" href="#loading-sections-from-uv-points">Loading sections from UV points</a></li>
<li><a class="reference internal" href="#loading-time">Loading time</a></li>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#loading-domain-data">Loading domain data</a><ul>
<li><a class="reference internal" href="#loading-data">Loading data</a></li>
<li><a class="reference internal" href="#id1">Loading time</a></li>
<li><a class="reference internal" href="#id2">Example</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><div class="left-bar-other">
<h3>
Recent updates
</h3>

<!-- 
TODO 
- 20150724

  URL https://sourcesup.renater.fr/pago is anonymously accessible

  it will replace http://www.whoi.edu/science/PO/pago/

- 20150612

  PAGO project is hosted on sourcesup

  .. warning::

     For developers only
-->

<ul>
<li>PAGO_v0 available to <a href="../../download.html">download</a></li>
<li>The PAGO website is <a href="../../overview.html">online</a></li>
</ul>
<p>
See older events in  <a href="../../release_notes.html">release notes</a></li>
</div>
<!--
.. TODO

   pago website URL has to be modified when effectively transfert on
   sourcesup project webpages. Now here only valide where _build has
   been produced
--><div class="left-bar-other">
<h3>
Related Links
</h3>
<ul>
<li> <a href="http://www.univ-brest.fr/">University of Brest, France</a></li>
<li> <a href="http://wwz.ifremer.fr/">Ifremer, France</a></li>
<li> <a href="http://cmip-pcmdi.llnl.gov/cmip5/">CMIP5 Project</a></li>
<li> <a href="http://www.whoi.edu/">Woods Hole Oceanographic Institution</a></li>
</ul>
</div>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="loading-model-data-outputs">
<span id="loaddata"></span><h1>Loading model data outputs<a class="headerlink" href="#loading-model-data-outputs" title="Permalink to this headline">¶</a></h1>
<p>When the model section gridfile has been generated (and eventually the model domain file),
the user can now load the model outputs.</p>
<div class="section" id="loading-section-data">
<h2>Loading section data<a class="headerlink" href="#loading-section-data" title="Permalink to this headline">¶</a></h2>
<p>Loading data on sections is achieved by using the <a class="reference internal" href="../generated/pypago.data.html#pypago.data.loaddata_sec_T" title="pypago.data.loaddata_sec_T"><code class="xref py py-func docutils literal notranslate"><span class="pre">pypago.data.loaddata_sec_T()</span></code></a> and <a class="reference internal" href="../generated/pypago.data.html#pypago.data.loaddata_sec_UV" title="pypago.data.loaddata_sec_UV"><code class="xref py py-func docutils literal notranslate"><span class="pre">pypago.data.loaddata_sec_UV()</span></code></a> functions, depending
of the grid (T, U or V) in which the variable is stored.</p>
<div class="section" id="loading-sections-from-t-points">
<h3>Loading sections from T points<a class="headerlink" href="#loading-sections-from-t-points" title="Permalink to this headline">¶</a></h3>
<p>Loading sections from T points is achieved by using the <a class="reference internal" href="../generated/pypago.data.html#pypago.data.loaddata_sec_T" title="pypago.data.loaddata_sec_T"><code class="xref py py-func docutils literal notranslate"><span class="pre">pypago.data.loaddata_sec_T()</span></code></a> function.</p>
<p>Its arguments are i) the list of <a class="reference internal" href="../generated/pypago.sections.html#pypago.sections.GridSection" title="pypago.sections.GridSection"><code class="xref py py-class docutils literal notranslate"><span class="pre">pypago.sections.GridSection</span></code></a> objects ii) the NetCDF filename containing the variables to process iii) a dictionnary containing the variables to process (dictionnary values) and the name in which they will appear in the output object (dictionary keys). In the example below, the <code class="samp docutils literal notranslate"><span class="pre">votemper</span></code> and the <code class="samp docutils literal notranslate"><span class="pre">vosaline</span></code> variables are read from the input file and are stored as <code class="samp docutils literal notranslate"><span class="pre">temp</span></code> and <code class="samp docutils literal notranslate"><span class="pre">sal</span></code> attributes, respectively.</p>
</div>
<div class="section" id="loading-sections-from-uv-points">
<h3>Loading sections from UV points<a class="headerlink" href="#loading-sections-from-uv-points" title="Permalink to this headline">¶</a></h3>
<p>Loading sections from U/V points is achieved by using the <a class="reference internal" href="../generated/pypago.data.html#pypago.data.loaddata_sec_UV" title="pypago.data.loaddata_sec_UV"><code class="xref py py-func docutils literal notranslate"><span class="pre">pypago.data.loaddata_sec_UV()</span></code></a></p>
<p>Its arguments are i) the list of <a class="reference internal" href="../generated/pypago.sections.html#pypago.sections.GridSection" title="pypago.sections.GridSection"><code class="xref py py-class docutils literal notranslate"><span class="pre">pypago.sections.GridSection</span></code></a> objects ii) the names of the NetCDF files containing the variables on the U and V points iii) a dictionnary containing the two names of the variables to process (dictionnary values, <em>which is a list</em> since the variable may have two different names depending of the file) and the name in which the variable will appear in the output object (dictionary keys).
In the example below, we process the velocity field, whose name is uo in the grid U file and vo in the grid V file. This velocity field will be stored as
the vel attribute.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If in your model run, tracer transports (for instance heat transport) have been stored on U/V points, you may use this function to extract them. It gives better precision when computing heat budgets within closed
domains.</p>
</div>
</div>
<div class="section" id="loading-time">
<h3>Loading time<a class="headerlink" href="#loading-time" title="Permalink to this headline">¶</a></h3>
<p>Loading the NetCDF time is achieved by using the <a class="reference internal" href="../generated/pypago.data.html#pypago.data.loadtime" title="pypago.data.loadtime"><code class="xref py py-func docutils literal notranslate"><span class="pre">pypago.data.loadtime()</span></code></a> function (which uses the <a class="reference internal" href="../generated/pypago.pyio.html#pypago.pyio.read_time" title="pypago.pyio.read_time"><code class="xref py py-func docutils literal notranslate"><span class="pre">pypago.pyio.read_time()</span></code></a> function) as follows:</p>
<p>The time is added as a time attribute.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The name of the time variable is specified in the <code class="file docutils literal notranslate"><span class="pre">param.py</span></code> file</p>
</div>
</div>
<div class="section" id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pypago.pyio</span>
<span class="kn">import</span> <span class="nn">pypago.data</span>

<span class="n">modelsec</span> <span class="o">=</span> <span class="n">pypago</span><span class="o">.</span><span class="n">pyio</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;data/indian_gridsec.pygo&#39;</span><span class="p">)</span>

<span class="n">filenameT</span> <span class="o">=</span> <span class="s1">&#39;data/dyna_grid_T.nc&#39;</span>
<span class="n">filenameU</span> <span class="o">=</span> <span class="s1">&#39;data/dyna_grid_U.nc&#39;</span>
<span class="n">filenameV</span> <span class="o">=</span> <span class="s1">&#39;data/dyna_grid_V.nc&#39;</span>

<span class="c1"># loading data on T points</span>
<span class="n">dirvarT</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;temp&#39;</span><span class="p">:</span><span class="s1">&#39;votemper&#39;</span><span class="p">,</span> <span class="s1">&#39;salt&#39;</span><span class="p">:</span> <span class="s1">&#39;vosaline&#39;</span><span class="p">}</span>
<span class="n">modelsec</span> <span class="o">=</span> <span class="n">pypago</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">loaddata_sec_T</span><span class="p">(</span><span class="n">modelsec</span><span class="p">,</span> <span class="n">filenameT</span><span class="p">,</span> <span class="n">dirvarT</span><span class="p">)</span>

<span class="c1"># loading data on U/V points</span>
<span class="n">dirvarUV</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;vel&#39;</span><span class="p">:[</span><span class="s1">&#39;vozocrtx&#39;</span><span class="p">,</span> <span class="s1">&#39;vomecrty&#39;</span><span class="p">]}</span>
<span class="n">modelsec</span> <span class="o">=</span> <span class="n">pypago</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">loaddata_sec_UV</span><span class="p">(</span><span class="n">modelsec</span><span class="p">,</span> <span class="n">filenameU</span><span class="p">,</span> <span class="n">filenameV</span><span class="p">,</span> <span class="n">dirvarUV</span><span class="p">)</span>

<span class="c1"># loading time array</span>
<span class="n">modelsec</span> <span class="o">=</span> <span class="n">pypago</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">loadtime</span><span class="p">(</span><span class="n">modelsec</span><span class="p">,</span> <span class="n">filenameT</span><span class="p">)</span>

<span class="n">pypago</span><span class="o">.</span><span class="n">pyio</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">modelsec</span><span class="p">,</span> <span class="s1">&#39;data/indian_datasec.pygo&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="kn">import</span> <span class="nn">pypago.pyio</span>

<span class="gp">In [2]: </span><span class="n">data</span> <span class="o">=</span> <span class="n">pypago</span><span class="o">.</span><span class="n">pyio</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;data/indian_datasec.pygo&#39;</span><span class="p">)</span>

<span class="gp">In [3]: </span><span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">Gridded section, NEMO model:</span>
<span class="go">  -areavect: (31, 70)</span>
<span class="go">  -depthvect: (31, 70)</span>
<span class="go">  -dire: (1,)</span>
<span class="go">  -faces: (70,)</span>
<span class="go">  -i: (2,)</span>
<span class="go">  -imax: 40</span>
<span class="go">  -imin: 140</span>
<span class="go">  -j: (2,)</span>
<span class="go">  -jmax: 100</span>
<span class="go">  -jmin: 10</span>
<span class="go">  -lengthvect: (70,)</span>
<span class="go">  -lvect: (70,)</span>
<span class="go">  -modelname: NEMO</span>
<span class="go">  -name: section4</span>
<span class="go">  -nlon: 182</span>
<span class="go">  -orient: (70,)</span>
<span class="go">  -salt: (73, 31, 70)</span>
<span class="go">  -temp: (73, 31, 70)</span>
<span class="go">  -time: (73,)</span>
<span class="go">  -veci: (70,)</span>
<span class="go">  -vecj: (70,)</span>
<span class="go">  -vel: (73, 31, 70)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="loading-domain-data">
<h2>Loading domain data<a class="headerlink" href="#loading-domain-data" title="Permalink to this headline">¶</a></h2>
<div class="section" id="loading-data">
<h3>Loading data<a class="headerlink" href="#loading-data" title="Permalink to this headline">¶</a></h3>
<p>Loading data on domain areas is achieved by using the <a class="reference internal" href="../generated/pypago.data.html#pypago.data.loaddata_area_T" title="pypago.data.loaddata_area_T"><code class="xref py py-func docutils literal notranslate"><span class="pre">pypago.data.loaddata_area_T()</span></code></a> function.
The philosophy is the same as when loading section data from T points. However, a major difference is that here, 2D variables (for instance, surface heat fluxes) can be loaded. In the above example, the 3D (time, latitude, longitude) <code class="samp docutils literal notranslate"><span class="pre">votemper</span></code> and <code class="samp docutils literal notranslate"><span class="pre">vosaline</span></code> variables are loaded as <code class="samp docutils literal notranslate"><span class="pre">temp</span></code> and <code class="samp docutils literal notranslate"><span class="pre">salt</span></code>, respectively, while the 2D variable <code class="samp docutils literal notranslate"><span class="pre">sohefldo</span></code> is loaded as <code class="samp docutils literal notranslate"><span class="pre">hf</span></code>.</p>
</div>
<div class="section" id="id1">
<h3>Loading time<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>Time is loaded as for sections, i.e. by using the <a class="reference internal" href="../generated/pypago.data.html#pypago.data.loadtime" title="pypago.data.loadtime"><code class="xref py py-func docutils literal notranslate"><span class="pre">pypago.data.loadtime()</span></code></a> function.</p>
</div>
<div class="section" id="id2">
<h3>Example<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pypago.pyio</span>
<span class="kn">import</span> <span class="nn">pypago.data</span>

<span class="n">modelareas</span> <span class="o">=</span> <span class="n">pypago</span><span class="o">.</span><span class="n">pyio</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;data/natl_domain.pygo&#39;</span><span class="p">)</span>

<span class="n">filenameT</span> <span class="o">=</span> <span class="s1">&#39;data/dyna_grid_T.nc&#39;</span>

<span class="n">dirvarT</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;temp&#39;</span><span class="p">:</span><span class="s1">&#39;votemper&#39;</span><span class="p">,</span> <span class="s1">&#39;salt&#39;</span><span class="p">:</span> <span class="s1">&#39;vosaline&#39;</span><span class="p">,</span> 
           <span class="s1">&#39;hf&#39;</span><span class="p">:</span><span class="s1">&#39;sohefldo&#39;</span><span class="p">,</span> <span class="s1">&#39;ssh&#39;</span><span class="p">:</span><span class="s1">&#39;sossheig&#39;</span><span class="p">}</span>

<span class="n">modelareas</span> <span class="o">=</span> <span class="n">pypago</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">loaddata_area_T</span><span class="p">(</span><span class="n">modelareas</span><span class="p">,</span> <span class="n">filenameT</span><span class="p">,</span> <span class="n">dirvarT</span><span class="p">)</span>

<span class="n">modelareas</span> <span class="o">=</span> <span class="n">pypago</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">loadtime</span><span class="p">(</span><span class="n">modelareas</span><span class="p">,</span> <span class="n">filenameT</span><span class="p">)</span>

<span class="n">pypago</span><span class="o">.</span><span class="n">pyio</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">modelareas</span><span class="p">,</span> <span class="s1">&#39;data/natl_datadom.pygo&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="kn">import</span> <span class="nn">pypago.pyio</span>

<span class="gp">In [5]: </span><span class="n">data</span> <span class="o">=</span> <span class="n">pypago</span><span class="o">.</span><span class="n">pyio</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;data/natl_datadom.pygo&#39;</span><span class="p">)</span>

<span class="gp">In [6]: </span><span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">Domain area, NEMO model:</span>
<span class="go">  -hf: (73, 461)</span>
<span class="go">  -i: (461,)</span>
<span class="go">  -imax: 160</span>
<span class="go">  -imin: 90</span>
<span class="go">  -j: (461,)</span>
<span class="go">  -jmax: 147</span>
<span class="go">  -jmin: 80</span>
<span class="go">  -mask: (68, 71)</span>
<span class="go">  -modelname: NEMO</span>
<span class="go">  -name: natldom</span>
<span class="go">  -nlon: 182</span>
<span class="go">  -salt: (73, 31, 461)</span>
<span class="go">  -secnames: [&#39;section1&#39;, &#39;section2&#39;, &#39;section3&#39;, &#39;section4&#39;]</span>
<span class="go">  -signs: [1, 1, 1, -1]</span>
<span class="go">  -ssh: (73, 461)</span>
<span class="go">  -surface: (461,)</span>
<span class="go">  -temp: (73, 31, 461)</span>
<span class="go">  -time: (73,)</span>
<span class="go">  -volume: (31, 461)</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="plotting.html" title="Plotting"
             >next</a> |</li>
        <li class="right" >
          <a href="closedom.html" title="Definition of domains"
             >previous</a> |</li>
   <li><a href="../../index.html">Home</a>|&nbsp;</li>
   <li><a href="../../models.html">Models</a>|&nbsp;</li>
   <li><a href="../../grid.html">Grid</a>|&nbsp;</li>
   <li><a href="../../sections.html">Sections</a>|&nbsp;</li>
   <li><a href="../../areas.html">Areas</a>|&nbsp; </li>
   <li><a href="../../output.html">Output</a>|&nbsp;</li>
   <li><a href="../../mapago.html">MAPAGO</a>|&nbsp;</li>
   <li><a href="../../pypago.html">PyPAGO</a>|&nbsp;</li>
   <li><a href="../../contact.html">Contact</a>|&nbsp;</li>
   <li><a href="../../howtocite.html">How to cite</a>|&nbsp;</li>
   <li><a href="../../desdevelopers.html">Developers</a>|&nbsp;</li>
   <li><a href="../../faq.html">FAQ</a>|&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="../../pypago.html" >PyPAGO documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../pypago_manual.html" >PyPAGO user guide</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, CNRS.
      Last updated on 20181023.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.7.
    </div>
  </body>
</html>
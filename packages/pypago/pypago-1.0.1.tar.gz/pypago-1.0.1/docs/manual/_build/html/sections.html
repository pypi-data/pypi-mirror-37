
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Sections &#8212; PAGO 1.0.0 documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="_static/pago.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Areas" href="areas.html" />
    <link rel="prev" title="Grid" href="grid.html" />

  </head><body>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="areas.html" title="Areas"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="grid.html" title="Grid"
             accesskey="P">previous</a> |</li>
   <li><a href="index.html">Home</a>|&nbsp;</li>
   <li><a href="models.html">Models</a>|&nbsp;</li>
   <li><a href="grid.html">Grid</a>|&nbsp;</li>
   <li><a href="#">Sections</a>|&nbsp;</li>
   <li><a href="areas.html">Areas</a>|&nbsp; </li>
   <li><a href="output.html">Output</a>|&nbsp;</li>
   <li><a href="mapago.html">MAPAGO</a>|&nbsp;</li>
   <li><a href="pypago.html">PyPAGO</a>|&nbsp;</li>
   <li><a href="contact.html">Contact</a>|&nbsp;</li>
   <li><a href="howtocite.html">How to cite</a>|&nbsp;</li>
   <li><a href="desdevelopers.html">Developers</a>|&nbsp;</li>
   <li><a href="faq.html">FAQ</a>|&nbsp;</li>
 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/pago_background.jpg" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><div class="left-bar-other">
<h3>
Recent updates
</h3>

<!-- 
TODO 
- 20150724

  URL https://sourcesup.renater.fr/pago is anonymously accessible

  it will replace http://www.whoi.edu/science/PO/pago/

- 20150612

  PAGO project is hosted on sourcesup

  .. warning::

     For developers only
-->

<ul>
<li>PAGO_v0 available to <a href="download.html">download</a></li>
<li>The PAGO website is <a href="overview.html">online</a></li>
</ul>
<p>
See older events in  <a href="release_notes.html">release notes</a></li>
</div>
<!--
.. TODO

   pago website URL has to be modified when effectively transfert on
   sourcesup project webpages. Now here only valide where _build has
   been produced
--><div class="left-bar-other">
<h3>
Related Links
</h3>
<ul>
<li> <a href="http://www.univ-brest.fr/">University of Brest, France</a></li>
<li> <a href="http://wwz.ifremer.fr/">Ifremer, France</a></li>
<li> <a href="http://cmip-pcmdi.llnl.gov/cmip5/">CMIP5 Project</a></li>
<li> <a href="http://www.whoi.edu/">Woods Hole Oceanographic Institution</a></li>
</ul>
</div>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="sections">
<h1>Sections<a class="headerlink" href="#sections" title="Permalink to this headline">¶</a></h1>
<p>Sections to be analyzed by PAGO are either listed in PAGO
function define_section (and further saved in <code class="file docutils literal notranslate"><span class="pre">.mat</span></code> file,
to be given to PAGO function <code class="xref py py-func docutils literal notranslate"><span class="pre">sections_MODEL()</span></code>) or
manually defined by the user (within <code class="xref py py-func docutils literal notranslate"><span class="pre">sections_MODEL()</span></code>).
We recommend to use define_section if the section is to be used in various
grids.</p>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last">no more matlab func or both matlab and python</p>
</div>
<p>A pre-defined set of sections are available in define_section.m :</p>
<ul class="simple">
<li>for the North Atlantic (<code class="file docutils literal notranslate"><span class="pre">sections_NA.mat</span></code>)</li>
<li>the global ocean (<code class="file docutils literal notranslate"><span class="pre">sections_GL.mat</span></code>)</li>
<li>for the Arctic (<code class="file docutils literal notranslate"><span class="pre">sections_AR.mat</span></code>)</li>
<li>around Southern Africa (<code class="file docutils literal notranslate"><span class="pre">sections_SA.mat</span></code>)</li>
</ul>
<p>Make sure that the grid subset is compatible with the section locations.</p>
<div class="admonition-todo admonition" id="index-1">
<p class="first admonition-title">Todo</p>
<p class="last">how ?</p>
</div>
<p>End points and corners of sections are defined by their longitude and latitude,
so that the definition is the same for all grids.
For each segment of each section, the positive direction for the
normal transport must be defined using a two-letter code (NE, NW, SE or SW),
each letter referring to the direction (North, South, East or West) in the
grid space.
In order to ensure that the normal transport is properly defined, PAGO
function <code class="xref py py-func docutils literal notranslate"><span class="pre">sections_MODEL()</span></code> produces a figure with all sections and
dots - one dot for each grid face followed by the sections (figure 12).</p>
<div class="admonition-todo admonition" id="index-2">
<p class="first admonition-title">Todo</p>
<p class="last">link to figure 12</p>
</div>
<p>Dots may be viewed as the head of arrows normal to the section heading in the
direction defined as positive for the volume transport.
Hence the definition of the positive normal transport is ok if all the dots
are located on the same “side” of the section (see figure below).
Depending on this definition, u and v velocities may be multiplied by -1
before being saved as normal velocities in PAGO functions loaddata_*.</p>
<p>When using the default grid subset and sections for the North Atlantic, it is
recommended to use built-in corrections in <code class="xref py py-func docutils literal notranslate"><span class="pre">sections_MODEL()</span></code>.
Otherwise, make sure that the location of section end points and corners, as
well as directions, is suitable for the analysis.
Several questions are asked when running <code class="xref py py-func docutils literal notranslate"><span class="pre">sections_MODEL()</span></code> to make sure
that the definition of sections is ok.
For example, as most sections are expected to go from coastline to coastline,
the program will ask for user confirmation in case the end point of a
section is not in land.
This may happen for the sections defined from Iceland to Faroe’s Islands and
from Faroe’s Islands to Scotland, as Faroe’s Islands are missing in most
climate models.
It is not a problem, for the rest of the programs, if the end point of a
section is in water.</p>
<div class="figure">
<a class="reference internal image-reference" href="_images/fig12b.jpg"><img alt="alt fig12b.jpg" src="_images/fig12b.jpg" style="width: 90%;" /></a>
</div>
<p>We assume that the dataset gives temperature and salinity at the center of the
grid cell, and velocity (if available) either at the corners or at the
center of the grid faces.
In PAGO functions loaddata_*, this information is interpolated and remapped
so that temperature, salinity and velocities are available at the center of
the western and northern grid faces (see figure below).</p>
<div class="admonition-todo admonition" id="index-3">
<p class="first admonition-title">Todo</p>
<p class="last">link to “figure below”</p>
</div>
<p>Temperature and salinity are averaged from the centers of the 2 adjacent grid
cells to the center of the grid faces, taking into account missing values in
land (but no grid scale factor is taken into account in this process).
In case of C-grid data, no interpolation is required for the velocities
(see <code class="xref py py-func docutils literal notranslate"><span class="pre">loaddata_IPSL()</span></code> for example).
In case of B-grid data, the volume transport at the corner of the grid cells
is computed and then split in 2 to the center of each adjacent faces
(see <code class="xref py py-func docutils literal notranslate"><span class="pre">loaddata_CCSM()</span></code> for example).
Data information loaded along sections, i.e. temperature, salinity and
velocity, can be mapped using PAGO function figure_section_1l.</p>
<div class="figure">
<a class="reference internal image-reference" href="_images/schemas_grid.jpg"><img alt="alt schemas_grid.jpg" src="_images/schemas_grid.jpg" style="width: 90%;" /></a>
</div>
<p>Various indices describing the transport across sections are calculated in
PAGO function <code class="xref py py-func docutils literal notranslate"><span class="pre">indices_MODEL()</span></code>.
Definition and units are specified in the NetCDF files.
These indices concern the transport of volume (in Sv), heat (in PW),
salt (in psu*Sv) and freshwater (mSv).
Freshwater is referenced to the average salinity of the Arctic (34.8) but this
definition may be changed in <code class="xref py py-func docutils literal notranslate"><span class="pre">indices_MODEL()</span></code> directly.
There is no interpolation of the data on the vertical, whatsoever.</p>
<p>PAGO indices include time series, that can be saved in NetCDF format
(see <a class="reference internal" href="output.html#output"><span class="std std-ref">Output</span></a> page):</p>
<blockquote>
<div><ol class="lowerroman simple">
<li>the net transports, i.e. the integral of normal velocities eventually
multiplied tracers.</li>
<li>the total transports of tracers when assuming no net volume transport
across the section. This quantity is particularly relevant when
comparing with observation estimates built on the same assumption.</li>
<li>the overturning components in z vertical coordinates. For volume
transport, the first maximum from the surface is given as well as
the depth of this maximum. The net transports are systematically
removed prior to calculating the overturning components. The
overturning component of tracer transports is defined as the product
of the overturning component of velocity and tracer profiles,
calculated separately.</li>
<li>the overturning components in density coordinates, similarly to
z-vertical coordinates except that velocities and tracers are binned
into density vectors. Four different density vectors are
available: *_s0_1 uses potential density referenced to the surface,
*_s0_2 as well but with twice as much resolution as *_s0_1,
*_s1 uses potential density referenced to 1000 dbar, and *_s2 uses
potential density referenced to 2000 dbar. Density may be calculated
using two different equations of state (see comments in
<code class="xref py py-func docutils literal notranslate"><span class="pre">indices_MODEL()</span></code>).</li>
<li>the barotropic and baroclinic components, the latter being the
residual of the total transports, overturning and barotropic
components.</li>
<li>transports integrated over fixed vertical intervals. The limits of
those intervals, defined in <code class="xref py py-func docutils literal notranslate"><span class="pre">indices_MODEL()</span></code>, is fixed but
their actual depth depends on the depth of the data levels as there
is no vertical interpolation of the data.</li>
<li>transports integrated over fixed density intervals, to be defined
by user when running <code class="xref py py-func docutils literal notranslate"><span class="pre">indices_MODEL()</span></code>.</li>
</ol>
</div></blockquote>
<p>More indices are produced by <code class="xref py py-func docutils literal notranslate"><span class="pre">indices_MODEL()</span></code>.
All indices are split in two categories: simple diagnostics, which require
minimum calculations (such as time series of type i, ii and iii), and full
diagnostics (all indices).
User has to specify, when running <code class="xref py py-func docutils literal notranslate"><span class="pre">indices_MODEL()</span></code>, which sections to be
considered for simple and full diagnostics.</p>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="areas.html" title="Areas"
             >next</a> |</li>
        <li class="right" >
          <a href="grid.html" title="Grid"
             >previous</a> |</li>
   <li><a href="index.html">Home</a>|&nbsp;</li>
   <li><a href="models.html">Models</a>|&nbsp;</li>
   <li><a href="grid.html">Grid</a>|&nbsp;</li>
   <li><a href="#">Sections</a>|&nbsp;</li>
   <li><a href="areas.html">Areas</a>|&nbsp; </li>
   <li><a href="output.html">Output</a>|&nbsp;</li>
   <li><a href="mapago.html">MAPAGO</a>|&nbsp;</li>
   <li><a href="pypago.html">PyPAGO</a>|&nbsp;</li>
   <li><a href="contact.html">Contact</a>|&nbsp;</li>
   <li><a href="howtocite.html">How to cite</a>|&nbsp;</li>
   <li><a href="desdevelopers.html">Developers</a>|&nbsp;</li>
   <li><a href="faq.html">FAQ</a>|&nbsp;</li>
 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, CNRS.
      Last updated on 20181023.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.7.
    </div>
  </body>
</html>
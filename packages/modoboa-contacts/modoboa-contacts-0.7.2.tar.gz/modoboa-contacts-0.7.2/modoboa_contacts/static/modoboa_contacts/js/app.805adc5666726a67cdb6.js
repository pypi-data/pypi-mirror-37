webpackJsonp([1],[,,,,function(t,e,a){"use strict";a.d(e,"h",function(){return u}),a.d(e,"i",function(){return d}),a.d(e,"d",function(){return m}),a.d(e,"e",function(){return p}),a.d(e,"a",function(){return f}),a.d(e,"f",function(){return v}),a.d(e,"c",function(){return h}),a.d(e,"b",function(){return _}),a.d(e,"g",function(){return C});var s=a(10),o=a.n(s),n=a(135);o.a.use(n.a);var r={default:{method:"GET",url:"/api/v1/address-books/default/"},sync:{method:"GET",url:"/api/v1/address-books/sync_to_cdav/"}},c=o.a.resource("/api/v1/address-books{/pk}/",{},r),i=o.a.resource("/api/v1/categories{/pk}/"),l=o.a.resource("/api/v1/contacts{/pk}/"),u=function(){return c.default()},d=function(){return c.sync()},m=function(t){return i.save(t)},p=function(){return i.get()},f=function(t){return l.save(t)},v=function(t){return l.delete({pk:t})},h=function(t){return l.get({pk:t})},_=function(t,e){var a={};return void 0!==t&&(a.search=t),void 0!==e&&(a.category=e),l.get(a)},C=function(t,e){return l.update({pk:t},e)}},,,,,,,function(t,e,a){"use strict";a.d(e,"a",function(){return s}),a.d(e,"c",function(){return o}),a.d(e,"b",function(){return n}),a.d(e,"d",function(){return r}),a.d(e,"e",function(){return c}),a.d(e,"f",function(){return i}),a.d(e,"g",function(){return l});var s="ADD_CONTACT",o="DELETE_CONTACT",n="SET_CONTACTS",r="UPDATE_CONTACT",c="SET_CONTACT",i="ADD_CATEGORY",l="SET_CATEGORIES"},,,,,,,,,,,,,,,function(t,e,a){a(114);var s=a(0)(a(72),a(130),"data-v-5da49344",null);t.exports=s.exports},,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){var s=a(0)(a(67),a(133),null,null);t.exports=s.exports},function(t,e,a){var s=a(0)(a(69),a(132),null,null);t.exports=s.exports},function(t,e,a){"use strict";var s=a(10),o=a.n(s),n=a(9),r=a(60),c=a(61),i=a(62),l=a(63);o.a.use(n.a);var u={actions:r,modules:{categories:c.a,detail:i.a,list:l.a},strict:!1};e.a=new n.a.Store(u)},,,function(t,e,a){var s=a(0)(a(64),a(126),null,null);t.exports=s.exports},function(t,e,a){var s=a(0)(a(68),a(131),null,null);t.exports=s.exports},function(t,e,a){var s=a(0)(a(70),a(124),null,null);t.exports=s.exports},,function(t,e){t.exports={en:{Add:"Add","Add category":"Add category",Address:"Address","Address book information":"Address book information",Apply:"Apply",at:"at","Birth date":"Birth date",Categories:"Categories",City:"City",Close:"Close",Company:"Company",Contacts:"Contacts",Country:"Country","Display name":"Display name","Edit contact":"Edit contact",Email:"Email","First name":"First name","Last name":"Last name",More:"More",Name:"Name","New contact":"New contact",Note:"Note",Phone:"Phone","Phone number":"Phone number",Position:"Position",Save:"Save",Search:"Search","State/Province":"State/Province",Summary:"Summary","Synchronize your address book":"Synchronize your address book","The credentials are the same than the ones you use to access Modoboa.":"The credentials are the same than the ones you use to access Modoboa.","To access this address book from the outside (such as Mozilla Thunderbird or your smartphone), use the following URL:":"To access this address book from the outside (such as Mozilla Thunderbird or your smartphone), use the following URL:","Zip Code":"Zip Code"},fr:{Add:"Ajouter","Add category":"Ajouter une catégorie",Address:"Adresse","Address book information":"Information sur le carnet d'adresse",Apply:"Appliquer",at:"chez","Birth date":"Date de naissance",Categories:"Catégories",City:"Ville",Close:"Fermer",Company:"Société",Contacts:"Contacts",Country:"Pays","Display name":"Nom complet","Edit contact":"Editer le contact",Email:"E-mail","First name":"Prénom","Last name":"Nom",More:"Plus",Name:"Nom","New contact":"Nouveau contact",Note:"Note",Phone:"Téléphone","Phone number":"Numéro de téléphone",Position:"Fonction",Save:"Enregistrer",Search:"Chercher","State/Province":"Etat/Région",Summary:"Résumé","Synchronize your address book":"Synchroniser votre carnet d'adresse","The credentials are the same than the ones you use to access Modoboa.":"Les identifiants sont les mêmes que ceux utilisés pour accéder à Modoboa.","To access this address book from the outside (such as Mozilla Thunderbird or your smartphone), use the following URL:":"Pour accéder à ce carnet d'adresse depuis l'extérieur (comme Mozilla Thunderbird ou votre smartphone), utilisez l'URL suivante :","Zip Code":"Code postal"}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),a.d(e,"router",function(){return P});var s=a(10),o=a.n(s),n=a(57),r=a(52),c=a.n(r),i=a(2),l=a.n(i),u=a(53),d=a.n(u),m=a(51),p=a(54),f=a.n(p),v=a(58),h=a.n(v),_=a(55),C=a.n(_),b=a(56),y=a.n(b),g=a(26),k=a.n(g);o.a.use(d.a,{availableLanguages:{en:"English",fr:"Français"},translations:h.a}),o.a.use(n.a),o.a.component("modal",k.a),o.a.filter("formatDate",function(t){if(t)return l()(String(t)).format("MM/DD/YYYY")}),o.a.filter("translate",function(t){return t?o.a.prototype.$gettext(t.toString()):""});var x=c.a.get("csrftoken");o.a.http.headers.common["X-CSRFTOKEN"]=x;var E=[{path:"/",name:"contact-list",component:y.a},{path:"/:pk(\\d+)",name:"contact-detail",component:C.a},{path:"/:category(\\w+)",name:"contact-list-filtered",component:y.a}],P=new n.a({routes:E,linkActiveClass:"active"});new o.a({el:"#app",render:function(t){return t(f.a)},router:P,store:m.a}),o.a.config.language=userLang},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),a.d(e,"deleteContact",function(){return c}),a.d(e,"updateContact",function(){return i});var s=a(29),o=a.n(s),n=a(11),r=a(4),c=function(t,e){var a=t.commit;return r.f(e).then(function(t){a(n.c,{pk:e})})},i=function(t,e){var a=t.commit,s=o()(e,2),c=s[0],i=s[1];return r.g(c,i).then(function(t){a(n.d,{contact:t.data})})}},function(t,e,a){"use strict";var s,o=a(17),n=a.n(o),r=a(4),c=a(11),i={categories:[]},l={categories:function(t){return t.categories}},u={createCategory:function(t,e){var a=t.commit;return r.d(e).then(function(t){a(c.f,{category:t.data})})},getCategories:function(t){var e=t.commit;return r.e().then(function(t){e(c.g,{categories:t.data})})}},d=(s={},n()(s,c.f,function(t,e){var a=e.category;t.categories.push(a)}),n()(s,c.g,function(t,e){var a=e.categories;t.categories=a}),s);e.a={state:i,getters:l,actions:u,mutations:d}},function(t,e,a){"use strict";var s,o=a(17),n=a.n(o),r=a(4),c=a(11),i={contact:[]},l={contact:function(t){return t.contact}},u={getContact:function(t,e){var a=t.commit;return r.c(e).then(function(t){a(c.e,{contact:t.data})})}},d=(s={},n()(s,c.e,function(t,e){var a=e.contact;t.contact=a}),n()(s,c.c,function(t,e){e.contact;t.contact={}}),n()(s,c.d,function(t,e){var a=e.contact;t.contact=a}),s);e.a={state:i,getters:l,actions:u,mutations:d}},function(t,e,a){"use strict";var s,o=a(17),n=a.n(o),r=a(29),c=a.n(r),i=a(10),l=a.n(i),u=a(4),d=a(11),m={contacts:[]},p={contacts:function(t){return t.contacts}},f={createContact:function(t,e){var a=t.commit;return u.a(e).then(function(t){a(d.a,{contact:t.data})})},getContacts:function(t,e){var a=t.commit,s=c()(e,2),o=s[0],n=s[1];return u.b(o,n).then(function(t){a(d.b,{contacts:t.data})})}},v=(s={},n()(s,d.a,function(t,e){var a=e.contact;t.contacts.push(a)}),n()(s,d.c,function(t,e){var a=e.pk;t.contacts=t.contacts.filter(function(t){return t.pk!==a})}),n()(s,d.b,function(t,e){var a=e.contacts;t.contacts=a}),n()(s,d.d,function(t,e){var a=e.contact;t.contacts.filter(function(e,s){e.pk===a.pk&&l.a.set(t.contacts,s,a)})}),s);e.a={state:m,getters:p,actions:f,mutations:v}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(9),o=a(120),n=a.n(o);e.default={components:{"category-form":n.a},computed:a.i(s.b)(["categories"]),created:function(){this.$store.dispatch("getCategories"),this.$language.current="fr_FR"},data:function(){return{showCategoryForm:!1}},methods:{closeCategoryForm:function(){this.showCategoryForm=!1}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{addressbook:Object},methods:{close:function(){this.$emit("close")}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{category:{},formErrors:{}}},computed:{namePlaceholder:function(){return this.$gettext("Name")}},methods:{close:function(){this.show=!1,this.category={},this.formErrors={},this.$emit("close")},createCategory:function(){var t=this;this.$store.dispatch("createCategory",this.category).then(function(e){t.close()},this.onFormError)},onFormError:function(t){this.formErrors=t.data}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(28),o=a.n(s),n=a(9);e.default={computed:a.i(n.b)(["categories"]),data:function(){return{checkedCategories:[]}},props:{index:{type:Number,required:!0}},methods:{close:function(){this.$emit("close")},saveCategories:function(){var t=this,e=JSON.parse(o()(this.$store.state.list.contacts[this.index]));e.categories=this.checkedCategories,this.$store.dispatch("updateContact",[e.pk,e]).then(function(e){t.close()})}},created:function(){this.checkedCategories=this.$store.state.list.contacts[this.index].categories}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(27),o=a.n(s),n=a(9),r=a(49),c=a.n(r),i=a(50),l=a.n(i);e.default={components:{"contact-categories-form":c.a,"contact-form":l.a},data:function(){return{showContactCategoriesForm:!1,showContactForm:!1}},computed:a.i(n.b)(["contact","categories"]),created:function(){this.$store.dispatch("getContact",this.$route.params.pk)},methods:{closeContactForm:function(){this.showContactForm=!1},deleteContact:function(t){var e=this;this.$store.dispatch("deleteContact",t).then(function(t){e.$router.push("/")})},getContactIndex:function(t){var e=null;return this.$store.state.list.contacts.forEach(function(a,s){if(a.pk===t)return void(e=s)}),e},getCategory:function(t){var e=!0,a=!1,s=void 0;try{for(var n,r=o()(this.categories);!(e=(n=r.next()).done);e=!0){var c=n.value;if(c.pk===t)return c}}catch(t){a=!0,s=t}finally{try{!e&&r.return&&r.return()}finally{if(a)throw s}}return null}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(78),o=a.n(s),n=a(28),r=a.n(n),c=a(4),i=a(137),l=a(121),u=a.n(l),d=a(26),m=a.n(d),p=a(122),f=a.n(p);e.default={components:{datepicker:i.a,"email-field":u.a,modal:m.a,"phone-number-field":f.a},data:function(){return{contact:{emails:[{}],phone_numbers:[{}]},formErrors:{},show:!0,showMore:!1}},computed:{firstNamePlaceholder:function(){return this.$gettext("First name")},lastNamePlaceholder:function(){return this.$gettext("Last name")},displayNamePlaceholder:function(){return this.$gettext("Display name")},companyPlaceholder:function(){return this.$gettext("Company")},positionPlaceholder:function(){return this.$gettext("Position")},birthDatePlaceholder:function(){return this.$gettext("Birth date")},addressPlaceholder:function(){return this.$gettext("Address")},zipCodePlaceholder:function(){return this.$gettext("Zip Code")},cityPlaceholder:function(){return this.$gettext("City")},countryPlaceholder:function(){return this.$gettext("Country")},statePlaceholder:function(){return this.$gettext("State/Province")},notePlaceholder:function(){return this.$gettext("Note")}},props:{pk:{type:Number,default:null}},created:function(){var t=this;this.pk&&c.c(this.pk).then(function(e){t.contact=e.data,0===t.contact.emails.length&&t.contact.emails.push({}),0===t.contact.phone_numbers.length&&t.contact.phone_numbers.push({}),""!==t.contact.address&&(t.showMore=!0)})},methods:{close:function(){this.show=!1,this.contact={},this.formErrors={},this.$emit("close")},onFormError:function(t){this.formErrors=t.data},createContact:function(t){var e=this;this.$store.dispatch("createContact",t).then(function(t){e.close()},this.onFormError)},saveContact:function(){var t=JSON.parse(r()(this.contact));o()(t.phone_numbers[0]).length||t.phone_numbers.splice(0,1),t.birth_date&&(t.birth_date=t.birth_date.split("T")[0]),null!==this.pk?this.updateContact(t):this.createContact(t)},addEmailField:function(){this.contact.emails.push({})},deleteEmailField:function(t){this.contact.emails.splice(t,1)},setEmail:function(t,e){this.contact.emails.splice(t,1,e)},addPhoneNumberField:function(){this.contact.phone_numbers.push({})},deletePhoneNumberField:function(t){this.contact.phone_numbers.splice(t,1)},setPhoneNumber:function(t,e){this.contact.phone_numbers.splice(t,1,e)},updateContact:function(t){var e=this,a=[t.pk,t];this.$store.dispatch("updateContact",a).then(function(t){e.close()},this.onFormError)}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(79),o=a.n(s),n=a(9),r=a(4),c=a(119),i=a.n(c),l=a(49),u=a.n(l),d=a(50),m=a.n(d),p=a(123),f=a.n(p);e.default={components:{"contact-categories-form":u.a,"contact-form":m.a,"search-form":f.a,"addressbook-detail":i.a},data:function(){return{currentContactPk:null,contactIndex:null,showContactForm:!1,showContactCategoriesForm:!1,abookSynced:window.userProfile.abookSynced,showInfo:!1,addressBook:null}},props:{pk:null},computed:o()({},a.i(n.b)(["contacts"])),created:function(){var t=this;this.getContacts(this.$route.params),r.h().then(function(e){t.addressBook=e.data})},methods:{getContacts:function(t,e){this.$store.dispatch("getContacts",[t,e])},closeContactCategoriesForm:function(){this.showContactCategoriesForm=!1,this.contactIndex=null},closeContactForm:function(){this.showContactForm=!1,this.currentContactPk=null},deleteContact:function(t){this.$store.dispatch("deleteContact",t)},editContact:function(t){this.currentContactPk=t,this.showContactForm=!0},editContactCategories:function(t){this.contactIndex=t,this.showContactCategoriesForm=!0},launchAbookSync:function(){var t=this;r.i().then(function(e){t.abookSynced=!0,window.location.reload()})}},watch:{$route:function(t,e){this.getContacts(this.$route.params)}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{email:Object,errors:Object,index:{type:Number,required:!0}},data:function(){return{types:["home","work","other"]}},computed:{addressPlaceholder:function(){return this.$gettext("Address")}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{show:{type:Boolean,required:!0,twoWay:!0},showFooter:{type:Boolean,default:!1}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{errors:Object,index:{type:Number,required:!0},phone:Object},data:function(){return{types:["cellular","fax","home","main","pager","work","other"]}},computed:{phoneNumberPlaceholder:function(){return this.$gettext("Phone number")}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{query:""}},computed:{searchPlaceholder:function(){return this.$gettext("Search")}},methods:{search:function(){this.$emit("search",this.query)}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e,a){function s(t){return a(o(t))}function o(t){var e=n[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var n={"./en-au":43,"./en-au.js":43,"./en-ca":44,"./en-ca.js":44,"./en-gb":45,"./en-gb.js":45,"./en-ie":46,"./en-ie.js":46,"./en-il":47,"./en-il.js":47,"./en-nz":48,"./en-nz.js":48};s.keys=function(){return Object.keys(n)},s.resolve=o,t.exports=s,s.id=115},,,,function(t,e,a){var s=a(0)(a(65),a(129),null,null);t.exports=s.exports},function(t,e,a){var s=a(0)(a(66),a(134),null,null);t.exports=s.exports},function(t,e,a){var s=a(0)(a(71),a(125),null,null);t.exports=s.exports},function(t,e,a){var s=a(0)(a(73),a(128),null,null);t.exports=s.exports},function(t,e,a){var s=a(0)(a(74),a(127),null,null);t.exports=s.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-5"},[a("search-form",{on:{search:function(e){return t.getContacts(e)}}})],1),t._v(" "),a("div",{staticClass:"col-sm-7"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.showContactForm=!0}}},[a("span",{staticClass:"fa fa-plus"}),t._v(" "),a("translate",[t._v("Add")])],1),t._v(" "),a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(e){t.showInfo=!0}}},[a("span",{staticClass:"fa fa-info-circle"})]),t._v(" "),!1===t.abookSynced?a("button",{staticClass:"btn btn-success",on:{click:t.launchAbookSync}},[a("translate",[t._v("Synchronize your address book")])],1):t._e()])]),t._v(" "),t.contacts?a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[a("translate",[t._v("Display name")])],1),t._v(" "),a("th",[a("translate",[t._v("Email")])],1),t._v(" "),a("th",[a("translate",[t._v("Phone")])],1),t._v(" "),a("th")])]),t._v(" "),a("tbody",t._l(t.contacts,function(e,s){return a("tr",{key:e.pk},[a("td",[a("router-link",{attrs:{to:{name:"contact-detail",params:{pk:e.pk}}}},[e.display_name?a("span",[t._v(t._s(e.display_name))]):a("span",[t._v(t._s(e.first_name)+" "+t._s(e.last_name))])])],1),t._v(" "),e.emails.length?a("td",[t._v(t._s(e.emails[0].address))]):a("td"),t._v(" "),e.phone_numbers.length?a("td",[t._v(t._s(e.phone_numbers[0].number))]):a("td"),t._v(" "),a("td",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-default btn-xs",attrs:{type:"button"},on:{click:function(e){t.editContactCategories(s)}}},[a("span",{staticClass:"fa fa-tag"})]),t._v(" "),a("button",{staticClass:"btn btn-primary btn-xs",attrs:{type:"button"},on:{click:function(a){t.editContact(e.pk)}}},[a("span",{staticClass:"fa fa-edit"})]),t._v(" "),a("button",{staticClass:"btn btn-danger btn-xs",attrs:{type:"button"},on:{click:function(a){t.deleteContact(e.pk)}}},[a("span",{staticClass:"fa fa-trash"})])])])}))]):t._e(),t._v(" "),t.showContactCategoriesForm?a("contact-categories-form",{attrs:{index:t.contactIndex},on:{close:t.closeContactCategoriesForm}}):t._e(),t._v(" "),t.showContactForm?a("contact-form",{attrs:{pk:t.currentContactPk},on:{close:t.closeContactForm}}):t._e(),t._v(" "),t.showInfo?a("addressbook-detail",{attrs:{addressbook:t.addressBook},on:{close:function(e){t.showInfo=!1}}}):t._e()],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group",class:{"has-error":t.errors.address||t.errors.type}},[t._m(0),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email.address,expression:"email.address"}],staticClass:"form-control",attrs:{type:"email",id:"address",name:"address",placeholder:t.addressPlaceholder},domProps:{value:t.email.address},on:{input:function(e){e.target.composing||t.$set(t.email,"address",e.target.value)}}}),t._v(" "),t.errors.address?a("span",{staticClass:"help-block"},[t._v(t._s(t.errors.address[0]))]):t._e()]),t._v(" "),a("div",{staticClass:"col-sm-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.email.type,expression:"email.type"}],staticClass:"form-control",attrs:{id:"type",name:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.email,"type",e.target.multiple?a:a[0])}}},t._l(t.types,function(e){return a("option",{domProps:{value:e}},[t._v(t._s(e))])})),t._v(" "),t.errors.type?a("span",{staticClass:"help-block"},[t._v(t._s(t.errors.type[0]))]):t._e()]),t._v(" "),a("div",{staticClass:"col-sm-2"},[a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.$emit("add")}}},[a("span",{staticClass:"fa fa-plus"})]),t._v(" "),t.index?a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.$emit("delete",t.index)}}},[a("span",{staticClass:"fa fa-trash"})]):t._e()])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"col-sm-1 control-label",attrs:{for:"address"}},[a("span",{staticClass:"fa fa-envelope"})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"sidebar collapse navbar-collapse",attrs:{id:"leftcol"}},[a("ul",{staticClass:"nav nav-sidebar",attrs:{role:"menu"}},[a("router-link",{attrs:{tag:"li",to:{name:"contact-list"},exact:""}},[a("a",[a("span",{staticClass:"fa fa-address-book"}),t._v(" "),a("translate",[t._v("Contacts")])],1)]),t._v(" "),a("li",{staticClass:"nav-header"},[a("translate",[t._v("Categories")])],1),t._v(" "),t._l(t.categories,function(e){return a("router-link",{key:e.pk,attrs:{tag:"li",to:{name:"contact-list-filtered",params:{category:e.name}}}},[a("a",[a("span",{staticClass:"fa fa-tag"}),t._v(" "+t._s(e.name))])])}),t._v(" "),a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showCategoryForm=!0}}},[a("span",{staticClass:"fa fa-plus"}),t._v(" "),a("translate",[t._v("Add category")])],1)])],2)]),t._v(" "),a("div",{staticClass:"main"},[a("router-view")],1),t._v(" "),t.showCategoryForm?a("category-form",{on:{close:t.closeCategoryForm}}):t._e()],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"form-horizontal",attrs:{role:"form"},on:{submit:function(e){return e.preventDefault(),t.search(e)}}},[a("div",{staticClass:"form-group has-feedback"},[a("div",{staticClass:"col-sm-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.searchPlaceholder,id:"searchquery",name:"searchquery"},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),t._v(" "),a("span",{staticClass:"fa fa-search form-control-feedback"})])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group",class:{"has-error":t.errors.number||t.errors.type}},[t._m(0),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.phone.number,expression:"phone.number"}],staticClass:"form-control",attrs:{type:"text",id:"number",name:"number",placeholder:t.phoneNumberPlaceholder},domProps:{value:t.phone.number},on:{input:function(e){e.target.composing||t.$set(t.phone,"number",e.target.value)}}}),t._v(" "),t.errors.number?a("span",{staticClass:"help-block"},[t._v(t._s(t.errors.number[0]))]):t._e()]),t._v(" "),a("div",{staticClass:"col-sm-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.phone.type,expression:"phone.type"}],staticClass:"form-control",attrs:{id:"type",name:"type"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.phone,"type",e.target.multiple?a:a[0])}}},t._l(t.types,function(e){return a("option",{domProps:{value:e}},[t._v(t._s(e))])})),t._v(" "),t.errors.type?a("span",{staticClass:"help-block"},[t._v(t._s(t.errors.type[0]))]):t._e()]),t._v(" "),a("div",{staticClass:"col-sm-2"},[a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.$emit("add")}}},[a("span",{staticClass:"fa fa-plus"})]),t._v(" "),t.index?a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.$emit("delete",t.index)}}},[a("span",{staticClass:"fa fa-trash"})]):t._e()])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"col-sm-1 control-label",attrs:{for:"number"}},[a("span",{staticClass:"fa fa-phone"})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("modal",{attrs:{show:!0}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("h3",{staticClass:"modal-title"},[a("translate",[t._v("Address book information")])],1)]),t._v(" "),a("div",{attrs:{slot:"body"},slot:"body"},[a("p",[a("translate",[t._v("To access this address book from the outside (such as Mozilla Thunderbird or your smartphone), use the following URL: ")])],1),t._v(" "),a("div",{staticClass:"alert alert-info"},[t._v("\n      "+t._s(t.addressbook.url)+"\n    ")]),t._v(" "),a("p",[a("translate",[t._v("The credentials are the same than the ones you use to access Modoboa.")])],1),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"pull-right"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.close}},[a("translate",[t._v("Close")])],1)]),t._v(" "),a("div",{staticClass:"clearfix"})])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"modal",staticClass:"modal fade show in background-darken",attrs:{tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._t("header")],2),t._v(" "),a("div",{staticClass:"modal-body"},[t._t("body")],2),t._v(" "),t.showFooter?a("div",{staticClass:"modal-footer"},[t._t("footer")],2):t._e()])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t.contact.display_name?a("span",[t._v(t._s(t.contact.display_name))]):a("span",[t._v(t._s(t.contact.first_name)+" "+t._s(t.contact.last_name))]),t._v(" "),a("button",{staticClass:"btn btn-default btn-xs",attrs:{type:"button"},on:{click:function(e){t.showContactCategoriesForm=!0}}},[a("span",{staticClass:"fa fa-tag"})]),t._v(" "),a("button",{staticClass:"btn btn-primary btn-xs",attrs:{type:"button"},on:{click:function(e){t.showContactForm=!0}}},[a("span",{staticClass:"fa fa-edit"})]),t._v(" "),a("button",{staticClass:"btn btn-danger btn-xs",attrs:{type:"button"},on:{click:function(e){t.deleteContact(t.contact.pk)}}},[a("span",{staticClass:"fa fa-trash"})])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("div",{staticClass:"panel-title"},[a("translate",[t._v("Summary")])],1)]),t._v(" "),a("table",{staticClass:"table"},[a("tbody",[t.contact.company?a("tr",[t._m(0),t._v(" "),a("td",{attrs:{colspan:"2"}},[t.contact.position?a("span",[t._v(t._s(t.contact.position)+" "),a("translate",[t._v("at")])],1):t._e(),t._v(" "+t._s(t.contact.company))])]):t._e(),t._v(" "),t.contact.birth_date?a("tr",[t._m(1),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t._f("formatDate")(t.contact.birth_date)))])]):t._e(),t._v(" "),t.contact.categories?a("tr",[t._m(2),t._v(" "),a("td",{attrs:{colspan:"2"}},t._l(t.contact.categories,function(e){return a("span",{staticClass:"label label-success"},[t._v(t._s(t.getCategory(e).name))])}))]):t._e(),t._v(" "),t._l(t.contact.emails,function(e,s){return a("tr",[a("td",[0===s?a("span",{staticClass:"fa fa-envelope"}):t._e()]),t._v(" "),a("td",[a("a",{attrs:{href:"mailto:"+e.address}},[t._v(t._s(e.address))])]),t._v(" "),a("td",[a("span",{staticClass:"label label-info"},[t._v(t._s(e.type))])])])}),t._v(" "),t._l(t.contact.phone_numbers,function(e,s){return a("tr",[a("td",[0===s?a("span",{staticClass:"fa fa-phone"}):t._e()]),t._v(" "),a("td",[t._v(t._s(e.number))]),t._v(" "),a("td",[a("span",{staticClass:"label label-info"},[t._v(t._s(e.type))])])])})],2)])])]),t._v(" "),t.contact.address?a("div",{staticClass:"col-sm-6"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("div",{staticClass:"panel-title"},[a("span",{staticClass:"fa fa-map-marker"}),t._v(" "),a("translate",[t._v("Address")])],1)]),t._v(" "),a("div",{staticClass:"panel-body"},[a("address",[t._v("\n            "+t._s(t.contact.address)),a("br"),t._v("\n            "+t._s(t.contact.city)+" "+t._s(t.contact.zipcode)+"\n            "+t._s(t.contact.country)+" "+t._s(t.contact.state)+"\n          ")])])])]):t._e(),t._v(" "),t.contact.note?a("div",{staticClass:"col-sm-6"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("div",{staticClass:"panel-title"},[a("span",{staticClass:"fa fa-sticky-note"}),t._v(" "),a("translate",[t._v("Note")])],1)]),t._v(" "),a("div",{staticClass:"panel-body"},[a("p",[t._v(t._s(t.contact.note))])])])]):t._e()]),t._v(" "),t.showContactCategoriesForm?a("contact-categories-form",{attrs:{index:t.getContactIndex(t.contact.pk)},on:{close:function(e){t.showContactCategoriesForm=!1}}}):t._e(),t._v(" "),t.showContactForm?a("contact-form",{attrs:{pk:t.contact.pk},on:{close:t.closeContactForm}}):t._e()],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",{staticClass:"fa fa-building"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",{staticClass:"fa fa-calendar"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("span",{staticClass:"fa fa-tag"})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("modal",{attrs:{show:!0}},[a("div",{attrs:{slot:"header"},slot:"header"},[t.pk?a("h3",{staticClass:"modal-title"},[a("translate",[t._v("Edit contact")])],1):a("h3",{staticClass:"modal-title"},[a("translate",[t._v("New contact")])],1)]),t._v(" "),a("div",{attrs:{slot:"body"},slot:"body"},[a("form",{staticClass:"form-horizontal",attrs:{id:"contactForm",method:"post",enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.saveContact(e)}}},[a("div",{staticClass:"form-group",class:{"has-error":t.formErrors.first_name||t.formErrors.last_name}},[a("label",{staticClass:"col-sm-1 control-label",attrs:{for:"first_name"}},[a("span",{staticClass:"fa fa-user"})]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.contact.first_name,expression:"contact.first_name"}],staticClass:"form-control",attrs:{type:"text",id:"first_name",name:"first_name",placeholder:t.firstNamePlaceholder},domProps:{value:t.contact.first_name},on:{input:function(e){e.target.composing||t.$set(t.contact,"first_name",e.target.value)}}}),t._v(" "),t.formErrors.first_name?a("span",{staticClass:"help-block"},[t._v(t._s(t.formErrors.first_name[0]))]):t._e()]),t._v(" "),a("div",{staticClass:"col-sm-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.contact.last_name,expression:"contact.last_name"}],staticClass:"form-control",attrs:{type:"text",id:"last_name",name:"last_name",placeholder:t.lastNamePlaceholder},domProps:{value:t.contact.last_name},on:{input:function(e){e.target.composing||t.$set(t.contact,"last_name",e.target.value)}}}),t._v(" "),t.formErrors.last_name?a("span",{staticClass:"help-block"},[t._v(t._s(t.formErrors.last_name[0]))]):t._e()])]),t._v(" "),a("div",{staticClass:"form-group",class:{"has-error":t.formErrors.display_name}},[a("div",{staticClass:"col-sm-offset-1 col-sm-11"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.contact.display_name,expression:"contact.display_name"}],staticClass:"form-control",attrs:{type:"text",id:"display_name",name:"display_name",placeholder:t.displayNamePlaceholder},domProps:{value:t.contact.display_name},on:{input:function(e){e.target.composing||t.$set(t.contact,"display_name",e.target.value)}}}),t._v(" "),t.formErrors.display_name?a("span",{staticClass:"help-block"},[t._v(t._s(t.formErrors.display_name[0]))]):t._e()])]),t._v(" "),a("div",{staticClass:"form-group",class:{"has-error":t.formErrors.company||t.formErrors.position}},[a("label",{staticClass:"col-sm-1 control-label",attrs:{for:"company"}},[a("span",{staticClass:"fa fa-building"})]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.contact.company,expression:"contact.company"}],staticClass:"form-control",attrs:{type:"text",id:"company",name:"company",placeholder:t.companyPlaceholder},domProps:{value:t.contact.company},on:{input:function(e){e.target.composing||t.$set(t.contact,"company",e.target.value)}}}),t._v(" "),t.formErrors.company?a("span",{staticClass:"help-block"},[t._v(t._s(t.formErrors.company[0]))]):t._e()]),t._v(" "),a("div",{staticClass:"col-sm-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.contact.position,expression:"contact.position"}],staticClass:"form-control",attrs:{type:"text",id:"position",name:"position",placeholder:t.positionPlaceholder},domProps:{value:t.contact.position},on:{input:function(e){e.target.composing||t.$set(t.contact,"position",e.target.value)}}}),t._v(" "),t.formErrors.position?a("span",{staticClass:"help-block"},[t._v(t._s(t.formErrors.position[0]))]):t._e()])]),t._v(" "),t._l(t.contact.emails,function(e,s){return a("email-field",{key:"email-"+s,attrs:{index:s,email:e,errors:t.formErrors.emails?t.formErrors.emails[s]:{}},on:{add:t.addEmailField,delete:function(e){return t.deleteEmailField(e)}}})}),t._v(" "),t._l(t.contact.phone_numbers,function(e,s){return a("phone-number-field",{key:"phone-"+s,attrs:{index:s,phone:e,errors:t.formErrors.phone_numbers?t.formErrors.phone_numbers[s]:{}},on:{add:t.addPhoneNumberField,delete:function(e){return t.deletePhoneNumberField(e)}}})}),t._v(" "),t.showMore?a("div",[a("div",{staticClass:"form-group",class:{"has-error":t.formErrors.birth_date}},[a("label",{staticClass:"col-sm-1 control-label",attrs:{for:"birth_date"}},[a("span",{staticClass:"fa fa-calendar"})]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("datepicker",{attrs:{id:"birth_date",name:"birth_date",inputClass:"form-control",placeholder:t.birthDatePlaceholder},model:{value:t.contact.birth_date,callback:function(e){t.$set(t.contact,"birth_date",e)},expression:"contact.birth_date"}}),t._v(" "),t.formErrors.birth_date?a("span",{staticClass:"help-block"},[t._v(t._s(t.formErrors.birth_date[0]))]):t._e()],1)]),t._v(" "),a("div",{staticClass:"form-group",class:{"has-error":t.formErrors.address}},[a("label",{staticClass:"col-sm-1 control-label",attrs:{for:"address"}},[a("span",{staticClass:"fa fa-map-marker"})]),t._v(" "),a("div",{staticClass:"col-sm-11"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.contact.address,expression:"contact.address"}],staticClass:"form-control",attrs:{type:"text",id:"address",name:"address",placeholder:t.addressPlaceholder},domProps:{value:t.contact.address},on:{input:function(e){e.target.composing||t.$set(t.contact,"address",e.target.value)}}}),t._v(" "),t.formErrors.address?a("span",{staticClass:"help-block"},[t._v(t._s(t.formErrors.address[0]))]):t._e()])]),t._v(" "),a("div",{staticClass:"form-group",class:{"has-error":t.formErrors.zipcode||t.formErrors.city}},[a("div",{staticClass:"col-sm-offset-1 col-sm-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.contact.zipcode,expression:"contact.zipcode"}],staticClass:"form-control",attrs:{type:"text",id:"zipcode",name:"zipcode",placeholder:t.zipCodePlaceholder},domProps:{value:t.contact.zipcode},on:{input:function(e){e.target.composing||t.$set(t.contact,"zipcode",e.target.value)}}}),t._v(" "),t.formErrors.zipcode?a("span",{staticClass:"help-block"},[t._v(t._s(t.formErrors.zipcode[0]))]):t._e()]),t._v(" "),a("div",{staticClass:"col-sm-7"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.contact.city,expression:"contact.city"}],staticClass:"form-control",attrs:{type:"text",id:"city",name:"city",placeholder:t.cityPlaceholder},domProps:{value:t.contact.city},on:{input:function(e){e.target.composing||t.$set(t.contact,"city",e.target.value)}}}),t._v(" "),t.formErrors.city?a("span",{staticClass:"help-block"},[t._v(t._s(t.formErrors.city[0]))]):t._e()])]),t._v(" "),a("div",{staticClass:"form-group",class:{"has-error":t.formErrors.country||t.formErrors.state}},[a("div",{staticClass:"col-sm-offset-1 col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.contact.country,expression:"contact.country"}],staticClass:"form-control",attrs:{type:"text",id:"country",name:"country",placeholder:t.countryPlaceholder},domProps:{value:t.contact.country},on:{input:function(e){e.target.composing||t.$set(t.contact,"country",e.target.value)}}}),t._v(" "),t.formErrors.country?a("span",{staticClass:"help-block"},[t._v(t._s(t.formErrors.country[0]))]):t._e()]),t._v(" "),a("div",{staticClass:"col-sm-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.contact.state,expression:"contact.state"}],staticClass:"form-control",attrs:{type:"text",id:"state",name:"state",placeholder:t.statePlaceholder},domProps:{value:t.contact.state},on:{input:function(e){e.target.composing||t.$set(t.contact,"state",e.target.value)}}}),t._v(" "),t.formErrors.state?a("span",{staticClass:"help-block"},[t._v(t._s(t.formErrors.state[0]))]):t._e()])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-1 control-label",attrs:{for:"address"}},[a("span",{staticClass:"fa fa-sticky-note"})]),t._v(" "),a("div",{staticClass:"col-sm-11"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.contact.note,expression:"contact.note"}],staticClass:"form-control",attrs:{id:"note",name:"note",placeholder:t.notePlaceholder},domProps:{value:t.contact.note},on:{input:function(e){e.target.composing||t.$set(t.contact,"note",e.target.value)}}})])])]):t._e(),t._v(" "),a("hr"),t._v(" "),a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(e){t.showMore=!0}}},[a("translate",[t._v("More")])],1),t._v(" "),a("div",{staticClass:"pull-right"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.close}},[a("translate",[t._v("Close")])],1),t._v(" "),a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Save"}})]),t._v(" "),a("div",{staticClass:"clearfix"})],2)])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("modal",{attrs:{show:!0}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("h3",{staticClass:"modal-title"},[a("translate",[t._v("Categories")])],1)]),t._v(" "),a("div",{attrs:{slot:"body"},slot:"body"},[a("form",{staticClass:"form-horizontal",attrs:{id:"categoriesForm",method:"post"},on:{submit:function(e){e.preventDefault(),t.saveCategories()}}},[t._l(t.categories,function(e){return a("div",{key:e.pk,staticClass:"form-group"},[a("div",{staticClass:"col-sm-offset-1 col-sm-11"},[a("div",{staticClass:"checkbox"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedCategories,expression:"checkedCategories"}],attrs:{type:"checkbox"},domProps:{value:e.pk,checked:Array.isArray(t.checkedCategories)?t._i(t.checkedCategories,e.pk)>-1:t.checkedCategories},on:{change:function(a){var s=t.checkedCategories,o=a.target,n=!!o.checked;if(Array.isArray(s)){var r=e.pk,c=t._i(s,r);o.checked?c<0&&(t.checkedCategories=s.concat([r])):c>-1&&(t.checkedCategories=s.slice(0,c).concat(s.slice(c+1)))}else t.checkedCategories=n}}}),t._v(" "+t._s(e.name)+"\n            ")])])])])}),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"pull-right"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.close}},[a("translate",[t._v("Close")])],1),t._v(" "),a("input",{staticClass:"btn btn-primary",attrs:{type:"submit"},domProps:{value:t._f("translate")("Apply")}})]),t._v(" "),a("div",{staticClass:"clearfix"})],2)])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("modal",{attrs:{show:!0}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("h3",{staticClass:"modal-title"},[a("translate",[t._v("Add category")])],1)]),t._v(" "),a("div",{attrs:{slot:"body"},slot:"body"},[a("form",{staticClass:"form-horizontal",attrs:{id:"categoryForm",method:"post"},on:{submit:function(e){return e.preventDefault(),t.createCategory(e)}}},[a("div",{staticClass:"form-group",class:{"has-error":t.formErrors.name}},[a("div",{staticClass:"col-sm-7"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.category.name,expression:"category.name"}],staticClass:"form-control",attrs:{type:"text",id:"name",name:"name",placeholder:t.namePlaceholder},domProps:{value:t.category.name},on:{input:function(e){e.target.composing||t.$set(t.category,"name",e.target.value)}}}),t._v(" "),t.formErrors.name?a("span",{staticClass:"help-block"},[t._v(t._s(t.formErrors.name[0]))]):t._e()])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"pull-right"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.close}},[a("translate",[t._v("Close")])],1),t._v(" "),a("input",{staticClass:"btn btn-primary",attrs:{type:"submit"},domProps:{value:t._f("translate")("Save")}})]),t._v(" "),a("div",{staticClass:"clearfix"})])])])},staticRenderFns:[]}},,,,,function(t,e){}],[59]);
//# sourceMappingURL=app.805adc5666726a67cdb6.js.map
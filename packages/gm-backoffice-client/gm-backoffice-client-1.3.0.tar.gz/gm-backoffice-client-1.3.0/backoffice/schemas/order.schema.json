{
    "$schema": "http://json-schema.org/draft-06/schema#",
    "title": "GM order",
    "description": "Used to put an order to our backoffice system",
    "type": "object",
    "properties": {
        "customer": {
            "type": "object",
            "description": "Customer data",
            "properties": {
                "name": {
                    "description": "Customer name (in any format)",
                    "type": "string"
                },
                "id": {
                    "description": "Customer id in backoffice",
                    "type": "integer"
                },
                "email": {
                    "description": "Customer email",
                    "type": "string"
                },
                "phone": {
                    "description": "Customer phone (in any format)",
                    "type": "string"
                },
                "is_corporate": {
                    "description": "Is corporate customer",
                    "type": "boolean"
                },
                "legal": {
                    "description": "Customer legal info",
                    "type": "object",
                    "properties": {
                        "name": {
                            "description": "Customer legal name",
                            "type": "string"
                        },
                        "legal_address": {
                            "description": "Customer legal address",
                            "type": "string"
                        },
                        "fact_address": {
                            "description": "Customer real address",
                            "type": "string"
                        },
                        "inn": {
                            "description": "Customer INN",
                            "type": "string"
                       },
                        "kpp": {
                            "description": "Customer KPP",
                            "type": "string"
                        },
                        "okpo": {
                            "description": "Customer OKPO",
                            "type": "string"
                        },
                        "ogrn": {
                            "description": "Customer OGRN",
                            "type": "string"
                        },
                        "bank_name": {
                            "description": "Customer bank name",
                            "type": "string"
                        },
                        "bik": {
                            "description": "Customer bank BIK",
                            "type": "string"
                        },
                        "bank_address": {
                            "description": "Bank legal address",
                            "type": "string"
                        },
                        "corr_account": {
                            "description": "Bank legal corr. account",
                            "type": "string"
                        },
                        "bank_account": {
                            "description": "Customer legal account in passed bank",
                            "type": "string"
                        }
                    },
                    "required": [
                        "name",
                        "inn"
                    ]
                }
            }
        },
        "delivery": {
            "description": "Order delivery data",
            "type": "object",
            "properties": {
                "label": {
                    "description": "Delivery type",
                    "type": "string",
                    "enum": [
                        "partner",
                        "selfpickup"
                    ]
                },
                "lift_is_needed": {
                    "description": "Is lift (as a service) needed?",
                    "type": "boolean"
                },
                "elevator_is_present": {
                    "description": "Elevator is present",
                    "type": "boolean"
                },
                "service_elevator_is_present": {
                    "description": "Service elevator is present",
                    "type": "boolean"
                },
                "crane_is_needed": {
                    "description": "Crane is needed",
                    "type": "boolean"
                },
                "floor": {
                    "desciption": "Floor",
                    "type": ["integer", "string"],
                    "pattern": "^-?\\d*$"
                },
                "address": {
                    "description": "Delivery address",
                    "type": "object",
                    "properties": {
                        "value": {
                            "description": "Delivery address value",
                            "type": "string"
                        }
                    }
                },
                "desired_date": {
                    "description": "Delivery desired date, YYYY-MM-DD",
                    "type": "string",
                    "pattern": "^\\d{4}-(0?[1-9]|1[012])-(0?[1-9]|[12][0-9]|3[01])$"
                },
                "time_from": {
                    "description": "Delivery time from, HH:MM",
                    "type": "string",
                    "pattern": "^\\d{2}:\\d{2}"
                },
                "time_till": {
                    "description": "Delivery time till, HH:MM",
                    "type": "string",
                    "pattern": "^\\d{2}:\\d{2}"
                },
                "receiver": {
                    "description": "Delivery receiver info",
                    "type": "object",
                    "properties": {
                        "name": {
                            "description": "Receiver name",
                            "type": "string"
                        },
                        "phone": {
                            "description": "Receiver phone",
                            "type": "string"
                        }
                    }
                }
            }
        },
        "manager": {
            "description": "Order manager, slack username or ID",
            "type": "string"
        },
        "payment_way_type": {
            "description": "The payment way. Cash by default",
            "type": "string",
            "enum": [
                "cash",
                "cashless",
                "driveracquiring",
                "card2card",
                "partner",
                "onlinecard"
            ]
        },
        "utm": {
            "description": "UTM data",
            "type": "object"
        },
        "roistat_id": {
            "description": "Visit id from roistat.ru",
            "type": "string"
        },
        "customer_comment": {
            "description": "Customer comment to the order",
            "type": "string"
        },
        "is_confirmed": {
            "description": "Should be set if user completed all checkout steps",
            "type": "boolean"
        }
    },
    "required": [
        "customer"
    ]
}
